# –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π Telegram

## –ó–∞ 5 –º–∏–Ω—É—Ç! ‚ö°

### –®–∞–≥ 1: –î–µ–ø–ª–æ–π Edge Function

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard** ‚Üí **Edge Functions**
2. –ù–∞–∂–º–∏—Ç–µ **"Deploy a new function"** ‚Üí **"Via Editor"**
3. **Function name**: `telegram-notifications`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞:
   ```
   c:\Users\Admin\Downloads\Alena\supabase\functions\telegram-notifications\index.ts
   ```
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Supabase
6. –ù–∞–∂–º–∏—Ç–µ **"Deploy"**

---

### –®–∞–≥ 2: –¢–µ—Å—Ç (—Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫)

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://YOUR_PROJECT_ID.supabase.co/functions/v1/telegram-notifications
```

–ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_PROJECT_ID` –Ω–∞ –≤–∞—à Project ID!

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
- –ï—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è < 19 —á–∏—Å–ª–∞: `{"message":"Not notification period yet"}`
- –ï—Å–ª–∏ >= 19 —á–∏—Å–ª–∞ –∏ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö: –ü—Ä–∏–¥—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram! üì±
- –ï—Å–ª–∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã: `{"message":"All data filled, no notifications sent"}`

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Supabase (–µ—Å–ª–∏ –µ—Å—Ç—å Cron)**

1. **Project Settings** ‚Üí **Edge Functions** ‚Üí **telegram-notifications**
2. **Add Cron Job**
   - **Schedule**: `0 9 * * *` (12:00 –ú–°–ö)
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ cron-job.org (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)**

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å: https://cron-job.org
2. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞–Ω–∏–µ:
   - **URL**: `https://YOUR_PROJECT_ID.supabase.co/functions/v1/telegram-notifications`
   - **Schedule**: –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00 (UTC)
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ

**–í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ GitHub Actions**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.github/workflows/notifications.yml`:

```yaml
name: Daily Notifications
on:
  schedule:
    - cron: '0 9 * * *'
jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - run: curl -X POST https://YOUR_PROJECT_ID.supabase.co/functions/v1/telegram-notifications
```

---

### –ì–æ—Ç–æ–≤–æ! ‚úÖ

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å 19-–≥–æ —á–∏—Å–ª–∞ –≤ 12:00 –ú–°–ö –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–Ω–µ—Å—Ç–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è.

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:
Supabase Dashboard ‚Üí **Edge Functions** ‚Üí **telegram-notifications** ‚Üí **Logs**

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é:
–û—Ç–∫—Ä–æ–π—Ç–µ URL —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (—Å–º. –®–∞–≥ 2)

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram:
–ï—Å–ª–∏ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö ‚Äî –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ!

---

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—Ç—É (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å 19-–≥–æ —á–∏—Å–ª–∞)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –ø—Ä–∏–≤—è–∑–∞–Ω Telegram (–ø–æ–ª–µ `tg_id` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)

2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Cron –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: `0 9 * * *` = 12:00 –ú–°–ö

3. **–û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö**
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ Supabase Logs –¥–ª—è –¥–µ—Ç–∞–ª–µ–π

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –æ –ø–æ–∫–∞–∑–∞–Ω–∏—è—Ö.
