# DB → UI MAPPING

Документ фиксирует соответствие полей базы данных элементам интерфейса и их поведению.

---

## employees

| Поле БД | UI элемент | Обязательность | Поведение |
|---|---|---|---|
| email | Поле логина | обязательное | используется для входа |
| password | Поле логина | обязательное | Supabase Auth |
| first_name | Текст | обязательное | отображение |
| last_name | Текст | опционально | отображение |
| tg_id | Кнопка «Привязать Telegram» | опционально | заполняется через бота |
| is_active | — | системное | при false вход запрещён |

---

## objects

| Поле БД | UI элемент | Обязательность | Поведение |
|---|---|---|---|
| object_name | Text input | обязательное | поиск / отображение |
| object_address | Text input | обязательное | поиск / отображение |
| area | Number input | опционально | справочная |
| contacts | Textarea | опционально | справочная |
| comments | Textarea | опционально | справочная |
| responsible_employee_id | Select (employees) | опционально | выбор ответственного |
| is_active | Toggle | системное | управление архивом |

---

## counters

| Поле БД | UI элемент | Обязательность | Поведение |
|---|---|---|---|
| counter_type | Checkbox (enum) | обязательное | выбор при создании объекта |
| counter_number | Text input | опционально | номер прибора учёта, отображается при вводе показаний |
| is_active | Toggle | системное | скрывает из ввода |

**Типы счётчиков (counter_type enum):**
- ХВС 1, ГВС 1, ХВС 2, ГВС 2, ХВС 3, ГВС 3
- Т1 день, Т1 ночь, Т2 день, Т2 ночь, Т3 день, Т3 ночь
- Т внутр, Т общий, Т дублер
- Отопление

---

## meter_readings

| Поле БД | UI элемент | Обязательность | Поведение |
|---|---|---|---|
| counter_id | — | системное | определяется объектом |
| indication | Number input | обязательное | ввод показаний |
| reading_date | Date picker | обязательное | выбирается пользователем |
| submitted_by_employee_id | — | системное | текущий пользователь |
| difference | — | не используется | игнорируется |

---

## Навигация

| Экран | Источник данных | Комментарий |
|---|---|---|
| Внести показания | objects + counters + meter_readings | основной экран |
| Создать объект | objects + counters | мастер создания |
| Архив | objects (is_active=false) | восстановление |
| Статистика | meter_readings | заглушка v1 |

